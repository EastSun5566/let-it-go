(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function Z(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Y(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,le(r.key),r)}}function X(n,e,t){return e&&ee(n.prototype,e),t&&ee(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function p(n,e,t){return(e=le(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ge(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,r){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var i,l,s,u,h=[],f=!0,g=!1;try{if(s=(o=o.call(t)).next,r===0){if(Object(o)!==o)return;f=!1}else for(;!(f=(i=s.call(o)).done)&&(h.push(i.value),h.length!==r);f=!0);}catch(E){g=!0,l=E}finally{try{if(!f&&o.return!=null&&(u=o.return(),Object(u)!==u))return}finally{if(g)throw l}}return h}}(n,e)||B(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(n){return function(e){if(Array.isArray(e))return _(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||B(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function B(n,e){if(n){if(typeof n=="string")return _(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(n,e):void 0}}function _(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function le(n){var e=function(t,r){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var i=o.call(t,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:String(e)}function a(n,e){return function(t,r){return r.get?r.get.call(t):r.value}(n,ue(n,e,"get"))}function c(n,e,t){return function(r,o,i){if(o.set)o.set.call(r,i);else{if(!o.writable)throw new TypeError("attempted to set read only private field");o.value=i}}(n,ue(n,e,"set"),t),t}function ue(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function R(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}function ce(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(n,e,t){ce(n,e),e.set(n,t)}function q(n,e){ce(n,e),e.add(n)}var W=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Y(this,n),this.x=e,this.y=t}return X(n,[{key:"add",value:function(e){var t=e.x,r=t===void 0?0:t,o=e.y,i=o===void 0?0:o;return this.x+=r,this.y+=i,this}}]),n}(),ye=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.p,r=t===void 0?new W:t,o=e.v,i=o===void 0?new W:o,l=e.r,s=l===void 0?.5:l,u=e.color,h=u===void 0?"#ffffff":u,f=e.alpha,g=f===void 0?1:f;Y(this,n),p(this,"p",void 0),p(this,"v",void 0),p(this,"r",void 0),p(this,"color",void 0),p(this,"alpha",void 0),this.p=r,this.v=i,this.r=s,this.color=h,this.alpha=g}return X(n,[{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width,r=t===void 0?0:t,o=e.height,i=o===void 0?0:o,l=this.p,s=this.r,u=this.v;l.y-s>i&&(this.p.y=0-s),l.x-s>r&&(this.p.x=0-s),l.x+s<0&&(this.p.x=r+s),this.p.add(u)}},{key:"draw",value:function(e){var t=this.p,r=this.r,o=this.color,i=this.alpha;e.save(),e.beginPath(),e.arc(t.x,t.y,r,0,2*Math.PI),e.closePath(),e.fillStyle=o,e.globalAlpha=i,e.fill(),e.restore()}}]),n}();function T(n){if(!n)throw Error("[let-it-go] ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"internal error."))}function S(n){T(Array.isArray(n),"Range must be an array."),T(n.length===2,"Range size must be 2."),T(n.every(function(e){return typeof e=="number"}),"Range value must be a number.")}function te(n){S(n),T(n.every(function(e){return e>=0}),"Radius range value must be positive.")}function ne(n){S(n),T(n.every(function(e){return e>=0&&e<=1}),"Alpha range value must be from 0 to 1.")}function y(n,e){return Math.random()*(e-n)+n}function re(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.entries(e).forEach(function(t){var r=ge(t,2),o=r[0],i=r[1];n.style[o]=i||""})}var v={root:document.body,number:window.innerWidth,velocityXRange:[-3,3],velocityYRange:[1,5],radiusRange:[.5,1],color:"#ffffff",alphaRange:[.8,1],backgroundColor:"transparent",style:{zIndex:"-1",pointerEvents:"none"}},N=new WeakMap,k=new WeakMap,A=new WeakMap,j=new WeakMap,x=new WeakMap,L=new WeakMap,P=new WeakMap,O=new WeakMap,b=new WeakMap,$=new WeakMap,M=new WeakMap,oe=new WeakSet,D=new WeakSet,he=new WeakMap,F=new WeakMap,U=new WeakSet,I=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.root,o=r===void 0?v.root:r,i=t.number,l=i===void 0?v.number:i,s=t.velocityXRange,u=s===void 0?v.velocityXRange:s,h=t.velocityYRange,f=h===void 0?v.velocityYRange:h,g=t.radiusRange,E=g===void 0?v.radiusRange:g,m=t.color,fe=m===void 0?v.color:m,V=t.alphaRange,z=V===void 0?v.alphaRange:V,H=t.backgroundColor,de=H===void 0?v.backgroundColor:H,G=t.style,ve=G===void 0?v.style:G;Y(this,n),q(this,U),q(this,D),q(this,oe),p(this,"root",document.body),d(this,N,{writable:!0,value:!1}),d(this,k,{writable:!0,value:0}),d(this,A,{writable:!0,value:void 0}),d(this,j,{writable:!0,value:void 0}),d(this,x,{writable:!0,value:void 0}),d(this,L,{writable:!0,value:void 0}),d(this,P,{writable:!0,value:void 0}),p(this,"backgroundColor",void 0),p(this,"style",v.style),p(this,"canvas",document.createElement("canvas")),d(this,O,{writable:!0,value:void 0}),d(this,b,{writable:!0,value:[]}),d(this,$,{writable:!0,value:null}),d(this,M,{writable:!0,value:null}),d(this,he,{writable:!0,value:function(){return a(e,b).forEach(function(C){return C.update(e.canvas)})}}),d(this,F,{writable:!0,value:function(){var C=e.canvas,J=C.width,Q=C.height;a(e,O).clearRect(0,0,J,Q),a(e,O).fillStyle=e.backgroundColor,a(e,O).fillRect(0,0,J,Q),a(e,b).forEach(function(pe){return pe.draw(a(e,O))}),requestAnimationFrame(a(e,F))}}),S(u),S(f),te(E),ne(z),this.root=o,c(this,k,l),c(this,A,u.sort()),c(this,j,f.sort()),c(this,x,E.sort()),c(this,L,fe),c(this,P,z.sort()),this.backgroundColor=de,this.style=ve;var K=this.canvas.getContext("2d");if(!K)throw new Error("[let-it-go] The 2d context canvas is not supported.");c(this,O,K),R(this,oe,me).call(this),R(this,D,ie).call(this),R(this,U,ae).call(this)}return X(n,[{key:"number",get:function(){return a(this,k)},set:function(e){c(this,k,e),R(this,D,ie).call(this)}},{key:"velocityXRange",get:function(){return a(this,A)},set:function(e){S(e);var t=e.sort();c(this,A,t),a(this,b).forEach(function(r){r.v.x=y.apply(void 0,w(t))})}},{key:"velocityYRange",get:function(){return a(this,j)},set:function(e){S(e);var t=e.sort();c(this,j,t),a(this,b).forEach(function(r){r.v.y=y.apply(void 0,w(t))})}},{key:"radiusRange",get:function(){return a(this,x)},set:function(e){te(e);var t=e.sort();c(this,x,t),a(this,b).forEach(function(r){r.r=y.apply(void 0,w(t))})}},{key:"color",get:function(){return a(this,L)},set:function(e){c(this,L,e),a(this,b).forEach(function(t){t.color=e})}},{key:"alphaRange",get:function(){return a(this,P)},set:function(e){ne(e);var t=e.sort();c(this,P,t),a(this,b).forEach(function(r){r.alpha=y.apply(void 0,w(t))})}},{key:"letItStop",value:function(){a(this,$)&&(clearInterval(a(this,$)),c(this,$,null)),a(this,M)&&(cancelAnimationFrame(a(this,M)),c(this,M,null)),c(this,N,!1)}},{key:"letItGoAgain",value:function(){R(this,U,ae).call(this)}},{key:"clear",value:function(){this.letItStop(),this.root.removeChild(this.canvas)}}]),n}();function me(){var n=this;new ResizeObserver(function(e){var t,r=function(i,l){var s=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!s){if(Array.isArray(i)||(s=B(i))||l&&i&&typeof i.length=="number"){s&&(i=s);var u=0,h=function(){};return{s:h,n:function(){return u>=i.length?{done:!0}:{done:!1,value:i[u++]}},e:function(m){throw m},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,g=!0,E=!1;return{s:function(){s=s.call(i)},n:function(){var m=s.next();return g=m.done,m},e:function(m){E=!0,f=m},f:function(){try{g||s.return==null||s.return()}finally{if(E)throw f}}}}(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.canvas.width=o.contentRect.width,n.canvas.height=o.contentRect.height}}catch(i){r.e(i)}finally{r.f()}}).observe(this.root),this.canvas.width=this.root.clientWidth,this.canvas.height=this.root.clientHeight,re(this.root,{position:"relative"}),re(this.canvas,function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(o){p(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}({position:"absolute",top:"0",left:"0"},this.style)),this.root.appendChild(this.canvas)}function ie(){var n=this,e=this.canvas;c(this,b,Array.from({length:a(this,k)},function(){return new ye({p:new W(y(0,e.width),y(0,-e.height)),v:new W(y.apply(void 0,w(a(n,A)))||Number.MIN_VALUE,y.apply(void 0,w(a(n,j)))||Number.MIN_VALUE),r:y.apply(void 0,w(a(n,x)))||Number.MIN_VALUE,color:a(n,L),alpha:y.apply(void 0,w(a(n,P)))||Number.MIN_VALUE})}))}function ae(){a(this,N)||(c(this,$,setInterval(a(this,he),1e3/30)),c(this,M,requestAnimationFrame(a(this,F))),c(this,N,!0))}p(I,"DEFAULT_OPTIONS",v);const be=({isShowPanel:n=!1}={})=>{const e=s=>s?"👇":"☝️",t=document.getElementById("option");let r=n;const o=document.getElementById("toggle");o.textContent=e(r);const i=()=>{t.style.transform=`translateY(${t.offsetHeight-o.offsetHeight-16}px)`},l=()=>{t.style.transform="translateY(0)"};if(o.addEventListener("click",()=>{if(r=!r,o.textContent=e(r),r){l();return}i()}),!r){i();return}l()},we=n=>{var e;(e=document.querySelector("#reset"))==null||e.addEventListener("click",()=>{n.letItGoAgain();const{DEFAULT_OPTIONS:t}=I;n.number=t.number,n.color=t.color,n.velocityXRange=t.velocityXRange,n.velocityYRange=t.velocityYRange,n.radiusRange=t.radiusRange,n.alphaRange=t.alphaRange})},Ee=n=>{const e=i=>i?"☃️":"⛄️",t=document.querySelector("#is-snow"),r=document.querySelector('[for="is-snow"]');let o=!0;t.checked=o,r.textContent=e(!0),t.addEventListener("change",({target:i})=>{if(o=!o,o){n.letItGoAgain(),i.checked=o,r.textContent=e(o);return}n.letItStop(),r.textContent=e(o),i.checked=o})},Oe=n=>{const e=document.querySelector("#number");e.value=`${I.DEFAULT_OPTIONS.number}`,e.addEventListener("input",({target:t})=>{n.number=+t.value})},Se=n=>{const e=document.querySelector("#color");e.value=I.DEFAULT_OPTIONS.color,e.addEventListener("input",({target:t})=>{n.color=t.value})},Ie=(n,e)=>{e.forEach(({type:t})=>{let[r,o]=I.DEFAULT_OPTIONS[`${t}Range`];const i=()=>{var h;const u=document.querySelector(`#${t}-range-label`);u.textContent=((h=u.textContent)==null?void 0:h.replace(/\(.*\)/,`(${[r,o].sort().join(" to ")})`))||""},l=document.querySelector(`#${t}-range-value-1`);l.value=`${r}`,l.addEventListener("change",({target:u})=>{const{value:h}=u;r=+h,n[`${t}Range`]=[r,o],i()});const s=document.querySelector(`#${t}-range-value-2`);s.value=`${o}`,s.addEventListener("change",({target:u})=>{const{value:h}=u;o=+h,n[`${t}Range`]=[r,o],i()}),i()})},Re=(n,e)=>{const t=({type:r,min:o,max:i,step:l})=>`
    <fieldset>
      <label id="${r}-range-label" class="form-label">↔️ ${r} ()</label>

      <input
        type="range"
        class="form-range"
        min="${o}"
        max="${i}"
        ${l&&`step="${l}"`}
        value="0"
        id="${r}-range-value-1"
      >
      <input
        type="range"
        class="form-range"
        min="${o}"
        max="${i}"
        ${l&&`step="${l}"`}
        value="0"
        id="${r}-range-value-2"
      >
    </fieldset>
  `;n.innerHTML=e.map(r=>t(r)).join("")};const se=[{type:"velocityX",min:-100,max:100},{type:"velocityY",min:-100,max:100},{type:"radius",min:0,max:50},{type:"alpha",min:0,max:1,step:.1}];document.addEventListener("DOMContentLoaded",()=>{Re(document.getElementById("ranges-container"),se);const n=new I({root:document.getElementById("let-it-go")});be({isShowPanel:!1}),we(n),Ee(n),Oe(n),Se(n),Ie(n,se)});
